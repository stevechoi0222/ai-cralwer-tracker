(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3261:(e,t,s)=>{"use strict";s.d(t,{C:()=>r});let r={name:"AI Crawler Tracker",tagline:"Who crawled my site?",description:"Live crawler visit viewer + tutorials on bot tracking. Track GPT bots, Perplexity, and other AI crawlers accessing your website.",url:"https://stevechoi0222.github.io/ai-cralwer-tracker",author:{name:"Steve Choi",url:"https://github.com/stevechoi0222"},links:{github:"https://github.com/stevechoi0222/ai-cralwer-tracker"},worker:{endpoint:"https://ai-logger.stevechoi0222.workers.dev",token:"sandbox-2025-11-05"}}},7322:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(5155),a=s(2115),l=s(2619),i=s.n(l),n=s(3298),c=s(7930),d=s(3261);function o(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[o,x]=(0,a.useState)({total:0,bots:0,uniqueBots:new Set,topBots:[]});return(0,a.useEffect)(()=>{async function e(){try{let e=new URL("".concat(d.C.worker.endpoint,"/api/logs"));e.searchParams.set("token",d.C.worker.token),e.searchParams.set("limit","50");let s=await fetch(e.toString());if(!s.ok)throw Error("Failed to fetch");let r=await s.json(),a=r.filter(e=>(0,c.w2)(e.ua)),l={};a.forEach(e=>{let t=(0,c.Hg)(e.ua)||"Unknown Bot";l[t]=(l[t]||0)+1});let i=Object.entries(l).sort((e,t)=>{let[,s]=e,[,r]=t;return r-s}).slice(0,5).map(e=>{let[t,s]=e;return{name:t,count:s}});x({total:r.length,bots:a.length,uniqueBots:new Set(a.map(e=>(0,c.Hg)(e.ua)||"Unknown")),topBots:i}),t(a.slice(0,20))}catch(e){console.error("Failed to fetch crawler data:",e)}finally{l(!1)}}e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[]),(0,r.jsxs)("div",{className:"space-y-12 py-8",children:[(0,r.jsxs)("header",{className:"space-y-4 text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:d.C.name}),(0,r.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:d.C.tagline})]}),(0,r.jsxs)("section",{className:"grid gap-4 md:grid-cols-4",children:[(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gradient-to-br from-blue-50 to-white p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:s?"...":o.total}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Total Requests"})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gradient-to-br from-purple-50 to-white p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:s?"...":o.bots}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Bot Visits"})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gradient-to-br from-green-50 to-white p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-green-600",children:s?"...":o.uniqueBots.size}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Unique Bots"})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gradient-to-br from-orange-50 to-white p-6 text-center",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold text-orange-600",children:[s?"...":Math.round(o.bots/o.total*100)||0,"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Bot Traffic"})]})]}),!s&&o.topBots.length>0&&(0,r.jsxs)("section",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Top Crawlers Detected"}),(0,r.jsx)(i(),{href:"/crawlers",className:"text-sm text-blue-600 hover:underline",children:"View all →"})]}),(0,r.jsx)("div",{className:"grid gap-3 md:grid-cols-5",children:o.topBots.map((e,t)=>(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 hover:shadow-md transition",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold text-gray-800",children:["#",t+1]}),(0,r.jsx)("span",{className:"rounded-full bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-800",children:e.count})]}),(0,r.jsx)("div",{className:"text-sm font-medium text-gray-700 line-clamp-2",children:e.name})]},e.name))})]}),(0,r.jsxs)("section",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Recent Crawler Activity"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:s?"Loading...":"Live updates"})]}),s?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"text-gray-500",children:"Loading crawler activity..."})}):0===e.length?(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-12 text-center",children:[(0,r.jsx)("p",{className:"text-gray-600",children:"No crawler visits detected yet."}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Bots will appear here when they visit your tracked pages."})]}):(0,r.jsx)("div",{className:"space-y-4",children:e.map((e,t)=>{let s=(0,c.Hg)(e.ua)||"Unknown Bot",a=e.ts?new Date(e.ts):null,l=a?(0,n.m)(a,{addSuffix:!0}):"Unknown time";return(0,r.jsx)("article",{className:"rounded-lg border border-gray-200 bg-white p-6 hover:shadow-lg transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-3 py-1 text-sm font-semibold text-blue-800",children:s}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:l})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"User Agent:"}),(0,r.jsx)("span",{className:"text-gray-600 truncate max-w-xl",title:e.ua,children:e.ua||"N/A"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.ip&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"IP:"}),(0,r.jsx)("code",{className:"rounded bg-gray-100 px-2 py-0.5 text-xs",children:e.ip})]}),e.country&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Location:"}),(0,r.jsx)("span",{className:"text-gray-600",children:[e.city,e.country].filter(Boolean).join(", ")})]}),e.asn&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"ASN:"}),(0,r.jsxs)("code",{className:"rounded bg-gray-100 px-2 py-0.5 text-xs",children:["AS",e.asn]})]})]}),(e.path||e.page||e.url)&&(0,r.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700 whitespace-nowrap",children:"Visited:"}),(0,r.jsx)("code",{className:"rounded bg-gray-100 px-2 py-0.5 text-xs break-all",children:e.path||e.page||e.url})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[e.method&&(0,r.jsx)("span",{className:"rounded bg-gray-800 px-2 py-1 text-xs font-mono text-white",children:e.method}),a&&(0,r.jsx)("span",{className:"text-xs text-gray-400",children:a.toLocaleString()})]})]})},"".concat(e.ts,"-").concat(t))})}),(0,r.jsx)("div",{className:"text-center pt-4",children:(0,r.jsx)(i(),{href:"/crawlers",className:"inline-flex items-center rounded-lg bg-blue-600 px-6 py-3 font-medium text-white hover:bg-blue-700 transition",children:"View Full Crawler Dashboard →"})})]}),(0,r.jsxs)("section",{className:"rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 p-8 space-y-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"How It Works"}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-blue-600 text-white font-bold text-xl mb-3",children:"1"}),(0,r.jsx)("h3",{className:"font-semibold",children:"Track"}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:"Invisible beacons (pixel, CSS, JS) capture bot requests on your website"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-purple-600 text-white font-bold text-xl mb-3",children:"2"}),(0,r.jsx)("h3",{className:"font-semibold",children:"Store"}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:"Cloudflare Worker logs metadata (UA, IP, location) to KV storage"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-green-600 text-white font-bold text-xl mb-3",children:"3"}),(0,r.jsx)("h3",{className:"font-semibold",children:"Analyze"}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:"View real-time data, filter by bot type, and understand your crawler traffic"})]})]})]}),(0,r.jsxs)("section",{className:"text-center space-y-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Want to track crawlers on your site?"}),(0,r.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Learn how to set up the same tracking system for your website with our step-by-step tutorials."}),(0,r.jsx)(i(),{href:"/tutorials",className:"inline-flex items-center rounded-lg border border-gray-300 bg-white px-6 py-3 font-medium text-gray-700 hover:bg-gray-50 transition",children:"Read Setup Guide"})]})]})}},7930:(e,t,s)=>{"use strict";s.d(t,{Hg:()=>l,w2:()=>a});let r=/(bot|spider|crawl|gpt|perplexity|anthropic|claude|bytespider|bingpreview|baiduspider|duckduckbot|sogou|mj12|ahrefs|semrush|seznambot|yandex|slurp|googlebot|facebookexternalhit|twitterbot|whatsapp|telegram)/i;function a(e){return!!e&&r.test(e)}function l(e){if(!e)return null;let t=e.toLowerCase();return t.includes("gptbot")?"GPTBot (OpenAI)":t.includes("chatgpt")?"ChatGPT-User":t.includes("claude")?"Claude (Anthropic)":t.includes("anthropic")?"Anthropic":t.includes("perplexity")?"Perplexity":t.includes("cohere")?"Cohere":t.includes("googlebot")?"Googlebot":t.includes("bingbot")||t.includes("bingpreview")?"Bingbot":t.includes("yandex")?"YandexBot":t.includes("duckduckbot")?"DuckDuckBot":t.includes("baiduspider")?"Baiduspider":t.includes("facebookexternalhit")?"Facebook Bot":t.includes("twitterbot")?"Twitter Bot":t.includes("linkedinbot")?"LinkedIn Bot":t.includes("ahrefs")?"AhrefsBot":t.includes("semrush")?"SemrushBot":t.includes("mj12bot")?"MJ12bot":t.includes("bytespider")?"ByteSpider (TikTok)":t.includes("bot")?"Generic Bot":t.includes("spider")?"Web Spider":t.includes("crawl")?"Web Crawler":null}},9800:(e,t,s)=>{Promise.resolve().then(s.bind(s,7322))}},e=>{e.O(0,[619,434,298,441,255,358],()=>e(e.s=9800)),_N_E=e.O()}]);