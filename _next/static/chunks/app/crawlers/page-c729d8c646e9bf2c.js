(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[194],{3261:(e,t,s)=>{"use strict";s.d(t,{C:()=>r});let r={name:"AI Crawler Tracker",tagline:"Who crawled my site?",description:"Live crawler visit viewer + tutorials on bot tracking. Track GPT bots, Perplexity, and other AI crawlers accessing your website.",url:"https://stevechoi0222.github.io/ai-cralwer-tracker",author:{name:"Steve Choi",url:"https://github.com/stevechoi0222"},links:{github:"https://github.com/stevechoi0222/ai-cralwer-tracker"},worker:{endpoint:"https://ai-logger.stevechoi0222.workers.dev",token:"sandbox-2025-11-05"}}},4987:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(5155),a=s(8321);function l(e){let{id:t,data:s}=e;return(0,r.jsx)(a.default,{id:t,type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(s)}})}},6957:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(5155),a=s(2115);let l=/(bot|spider|crawl|gpt|perplexity|anthropic|claude|bytespider|bingpreview|baiduspider|duckduckbot|sogou|mj12|ahrefs|semrush|seznambot|yandex|slurp|google|facebookexternalhit|twitterbot|whatsapp|telegram|apis-google|mediapartners|adsbot|feedfetcher|storebot)/i;var o=s(3261),i=s(4662);function n(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,g]=(0,a.useState)(!1),[h,x]=(0,a.useState)("");(0,a.useEffect)(()=>{!async function(){try{n(!0),d(null);let e=new URL("".concat(o.C.worker.endpoint,"/api/logs"));e.searchParams.set("token",o.C.worker.token),e.searchParams.set("limit","200");let s=await fetch(e.toString());if(!s.ok)throw Error("Failed to fetch: ".concat(s.status));let r=await s.json();console.log("Fetched logs:",r),console.log("Number of logs:",Array.isArray(r)?r.length:0),t(Array.isArray(r)?r:[])}catch(e){console.error("Error fetching crawler data:",e),d(e instanceof Error?e.message:"Failed to load data")}finally{n(!1)}}()},[]);let p=(0,a.useMemo)(()=>{let t=e.filter(e=>{var t;return!u||!!(t=e.ua)&&l.test(t)}).filter(e=>!h||JSON.stringify(e).toLowerCase().includes(h.toLowerCase())).sort((e,t)=>new Date(t.ts).getTime()-new Date(e.ts).getTime());return console.log("Total data:",e.length,"After filters:",t.length,"Bots only:",u),t},[e,u,h]);return s?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"text-gray-500",children:"Loading crawler data..."})}):c?(0,r.jsxs)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-red-800",children:[(0,r.jsx)("strong",{children:"Error:"})," ",c]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("input",{type:"checkbox",checked:u,onChange:e=>g(e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{children:"Show bots only"})]}),(0,r.jsx)("input",{className:"flex-1 min-w-[200px] rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Filter by UA, IP, country, path...",value:h,onChange:e=>x(e.target.value)}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[p.length," ",1===p.length?"result":"results"]})]}),0===p.length?(0,r.jsx)("div",{className:"rounded-lg border border-gray-200 p-8 text-center text-gray-500",children:"No crawler visits found. Try adjusting your filters."}):(0,r.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{className:"bg-gray-50 text-left",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 font-medium text-gray-700",children:"Time"}),(0,r.jsx)("th",{className:"px-4 py-3 font-medium text-gray-700",children:"Bot"}),(0,r.jsx)("th",{className:"px-4 py-3 font-medium text-gray-700",children:"User Agent"}),(0,r.jsx)("th",{className:"px-4 py-3 font-medium text-gray-700",children:"IP / ASN"}),(0,r.jsx)("th",{className:"px-4 py-3 font-medium text-gray-700",children:"Location"}),(0,r.jsx)("th",{className:"px-4 py-3 font-medium text-gray-700",children:"Method"}),(0,r.jsx)("th",{className:"px-4 py-3 font-medium text-gray-700",children:"Path"}),(0,r.jsx)("th",{className:"px-4 py-3 font-medium text-gray-700",children:"Referer"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:p.map((e,t)=>{let s=function(e){if(!e)return null;let t=e.toLowerCase();return t.includes("gptbot")?"GPTBot (OpenAI)":t.includes("chatgpt")?"ChatGPT-User":t.includes("claude")?"Claude (Anthropic)":t.includes("anthropic")?"Anthropic":t.includes("perplexity")?"Perplexity":t.includes("cohere")?"Cohere":t.includes("google-extended")?"Google-Extended (AI Training)":t.includes("google-inspectiontool")?"Google Search Console":t.includes("googlebot-image")?"Googlebot-Image":t.includes("googlebot-video")?"Googlebot-Video":t.includes("googlebot-news")?"Googlebot-News":t.includes("googlebot")?"Googlebot":t.includes("google-site-verification")?"Google Site Verification":t.includes("adsbot-google")?"AdsBot-Google":t.includes("mediapartners-google")?"Mediapartners-Google (AdSense)":t.includes("feedfetcher-google")?"FeedFetcher-Google":t.includes("google-read-aloud")?"Google Read Aloud":t.includes("storebot-google")?"Storebot-Google":t.includes("apis-google")?"APIs-Google":t.includes("googleother")?"GoogleOther":t.includes("bingbot")||t.includes("bingpreview")?"Bingbot":t.includes("yandex")?"YandexBot":t.includes("duckduckbot")?"DuckDuckBot":t.includes("baiduspider")?"Baiduspider":t.includes("facebookexternalhit")?"Facebook Bot":t.includes("twitterbot")?"Twitter Bot":t.includes("linkedinbot")?"LinkedIn Bot":t.includes("ahrefs")?"AhrefsBot":t.includes("semrush")?"SemrushBot":t.includes("mj12bot")?"MJ12bot":t.includes("bytespider")?"ByteSpider (TikTok)":t.includes("bot")?"Generic Bot":t.includes("spider")?"Web Spider":t.includes("crawl")?"Web Crawler":null}(e.ua),a=e.ts?new Date(e.ts):null;return(0,r.jsxs)("tr",{className:"hover:bg-gray-50 align-top",children:[(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-600",children:a?(0,i.GP)(a,"MMM dd, HH:mm:ss"):"-"}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:s?(0,r.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800",children:s}):(0,r.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,r.jsx)("td",{className:"px-4 py-3 max-w-md",children:(0,r.jsx)("div",{className:"truncate text-gray-700",title:e.ua,children:e.ua||"-"})}),(0,r.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-600",children:[e.ip||"-",e.asn&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["AS",e.asn]})]}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-600",children:[e.country,e.city,e.colo].filter(Boolean).join(" / ")||"-"}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-600",children:e.method||"-"}),(0,r.jsx)("td",{className:"px-4 py-3 max-w-xs",children:(0,r.jsx)("div",{className:"break-all text-gray-700",children:e.path||e.page||e.url||"-"})}),(0,r.jsx)("td",{className:"px-4 py-3 max-w-xs",children:(0,r.jsx)("div",{className:"break-all text-gray-600",children:e.referer||"-"})})]},t)})})]})}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:'\uD83D\uDCA1 Tip: Toggle "bots only" and use the filter to find specific crawlers like GPTBot, Perplexity, Claude, etc.'})]})}},6967:(e,t,s)=>{Promise.resolve().then(s.bind(s,6957)),Promise.resolve().then(s.bind(s,4987))}},e=>{e.O(0,[750,441,255,358],()=>e(e.s=6967)),_N_E=e.O()}]);